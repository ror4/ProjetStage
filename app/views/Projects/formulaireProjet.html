#{extends 'main.html' /}
#{set title:'Projects' /}

<a href="/" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">Retourner à l'accueil</a>
<a href="/formulaireProjet">Ajouter un Projet</a>

<form action="@{ProjectController.createProject}" method="post">
    <fieldset>
        <legend>Identité du Projet</legend>
        <label>Nom</label>
        <input type="text" name="project.name" placeholder="Nom du projet" required autofocus/>
        <br/><br/>
        <label>Type de Projet</label>
        <div class="toggleButtonFormProject">
        <input type="radio"  name="project.type" value="INTERNAL" checked> Interne </input>
        <input type="radio"  name="project.type" value="CLIENT"> Client </input>
        </div>
            <div id="choixClient" style="display: none">
                <select name="project.client.id" >
                #{list items:clientList, as:'client'}
                    <option value=${client.id} >${client.corporateName}</option>
                #{/list}
                </select>

            </div>

        </select>
    </fieldset>
    <br/>
    <fieldset>
        <select name="project.profiles" multiple>
        #{list items:profilList, as:'profile'}
            <option value=${profile.id} >${profile.name}</option>
        #{/list}
        </select>
    </fieldset>
    <br/>
    <fieldset>

    </fieldset>
    <br/>
    <fieldset>
        <input type="checkbox" name="project.status" value="PENDING"> En attente </input>
        <input type="checkbox" name="project.status" value="ONGOING"> En cours </input>
        <input type="checkbox" name="project.status" value="GUARANTEE"> Garantie </input>
        <input type="checkbox" name="project.status" value="MAINTENANCE"> Maintenance </input>
        <input type="checkbox" name="project.status" value="DONE"> Terminé </input>

    </fieldset>
    <br/>
    <fieldset>
        <button type=submit>Valider</button>
    </fieldset>
</form>

#{set 'moreScripts'}
    #{script 'formProject.js'/}

#{/set}